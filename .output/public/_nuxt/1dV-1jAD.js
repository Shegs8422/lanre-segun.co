import{d as w,r as i,j as g,a as c,k as S,c as m,b as y,u as t,e,l as k,w as p,t as r,v as f,T as q}from"./D8TvSErv.js";import{_ as V}from"./DlAUqK2U.js";const B={key:0,class:"fixed inset-0 z-100 flex items-center justify-center bg-black/80 backdrop-blur-sm"},O={class:"bg-neutral-900 border border-neutral-800 p-8 rounded-2xl w-full max-w-md shadow-2xl relative max-h-[90vh] overflow-y-auto"},T={class:"flex flex-col gap-2"},j={class:"text-xs font-bold uppercase text-neutral-500"},C={class:"flex flex-col gap-2"},U={class:"text-xs font-bold uppercase text-neutral-500"},Y={class:"flex flex-col gap-2"},D={class:"text-xs font-bold uppercase text-neutral-500"},I=["disabled"],M={key:0,class:"text-red-500 text-sm mt-4 text-center"},N=w({__name:"SecuritySetup",setup(W,{expose:h}){const d=i(!1),s=i(["","",""]),a=i(""),n=i(!1),u=["In what city or town did your parents meet?","What was the name of the first company you worked for?","What is the middle name of your youngest sibling"],v=()=>{d.value=!0,s.value=["","",""],a.value=""},b=()=>{d.value=!1},_=async()=>{n.value=!0,a.value="";try{await $fetch("/api/security/setup",{method:"POST",body:{questions:u,answers:s.value}}),b()}catch(x){a.value=x.data?.message||"Failed to save security questions"}finally{n.value=!1}};return h({open:v,close:b}),(x,o)=>(c(),g(q,{name:"fade"},{default:S(()=>[t(d)?(c(),m("div",B,[e("div",O,[o[3]||(o[3]=e("h2",{class:"text-xl font-bold text-white mb-2"},"Security Setup Required",-1)),o[4]||(o[4]=e("p",{class:"text-neutral-400 text-sm mb-6"},"Set up security questions to recover your password if you forget it.",-1)),e("form",{onSubmit:k(_,["prevent"]),class:"flex flex-col gap-6"},[e("div",T,[e("label",j,r(u[0]),1),p(e("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>t(s)[0]=l),type:"text",placeholder:"Your answer",required:"",autocomplete:"off",class:"bg-black/50 border border-neutral-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-blue-500 transition-colors"},null,512),[[f,t(s)[0]]])]),e("div",C,[e("label",U,r(u[1]),1),p(e("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>t(s)[1]=l),type:"text",placeholder:"Your answer",required:"",autocomplete:"off",class:"bg-black/50 border border-neutral-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-blue-500 transition-colors"},null,512),[[f,t(s)[1]]])]),e("div",Y,[e("label",D,r(u[2]),1),p(e("input",{"onUpdate:modelValue":o[2]||(o[2]=l=>t(s)[2]=l),type:"text",placeholder:"Your answer",required:"",autocomplete:"off",class:"bg-black/50 border border-neutral-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-blue-500 transition-colors"},null,512),[[f,t(s)[2]]])]),e("button",{type:"submit",class:"bg-white text-black font-medium py-3 rounded-lg hover:bg-neutral-200 transition-colors mt-2",disabled:t(n)},r(t(n)?"Saving...":"Save Security Questions"),9,I)],32),t(a)?(c(),m("p",M,r(t(a)),1)):y("",!0)])])):y("",!0)]),_:1}))}}),F=Object.assign(V(N,[["__scopeId","data-v-2e9fb4d6"]]),{__name:"SecuritySetup"});export{F as default};
